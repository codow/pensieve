{
  "model": {
    "formData": {
      "name": "王钰博",
      "fees": []
    },
    "currentFee": null
  },
  "define": {
    "id": "page",
    "tag": "div",
    "props": {
      "size": {
        "type": "String",
        "default": "small"
      }
    },
    "attributes": {},
    "events": {
      "mounted": "function () {this.$notify.success('加载完成')}"
    },
    "children": [
      {
        "id": "form",
        "tag": "el-form",
        "_class": "padding__medium",
        "_style": "background-color: #efefef;",
        "attributes": {
          "model": "#{formData}",
          "size": "#{size}"
        },
        "children": [
          {
            "tag": "el-form-item",
            "attributes": {
              "label": "姓名",
              "prop": "name"
            },
            "children": [
              {
                "tag": "el-input",
                "field": "formData.name"
              }
            ]
          },
          {
            "tag": "el-form-item",
            "attributes": {
              "label": "年龄",
              "prop": "age"
            },
            "children": [
              {
                "tag": "el-input",
                "field": "formData.age",
                "attributes": {
                  "disabled": "#{formData.name === '王钰博'}"
                }
              }
            ]
          },
          {
            "tag": "el-form-item",
            "attributes": {
              "label": "联系人"
            },
            "children": [
              {
                "tag": "el-button",
                "text": "新增",
                "attributes": {
                  "icon": "el-icon-plus",
                  "plain": true
                }
              }
            ]
          },
          {
            "tag": "el-form-item",
            "children": [
              {
                "tag": "el-card",
                "vfor": "",
                "attributes": {},
                "children": [
                  {
                    "tag": "span",
                    "text": "联系人",
                    "attributes": {
                      "slot": "header"
                    }
                  },
                  {
                    "tag": "el-row",
                    "directSlot": true,
                    "attributes": {
                      "slot": "default"
                    },
                    "children": [
                      {
                        "tag": "el-col",
                        "directSlot": true,
                        "attributes": {
                          "slot": "default",
                          "span": 12
                        },
                        "children": [
                          {
                            "tag": "el-form-item",
                            "attributes": {
                              "label": "联系人"
                            },
                            "children": [
                              {
                                "tag": "el-input"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "tag": "el-col",
                        "directSlot": true,
                        "attributes": {
                          "slot": "default",
                          "span": 12
                        },
                        "children": [
                          {
                            "tag": "el-form-item",
                            "attributes": {
                              "label": "联系电话"
                            },
                            "children": [
                              {
                                "tag": "el-input"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "tag": "el-form-item",
            "children": [
              {
                "id": "table",
                "tag": "el-table",
                "attributes": {
                  "data": "#{formData.fees}"
                },
                "children": [
                  {
                    "tag": "el-table-column",
                    "attributes": {
                      "label": "#",
                      "width": 60,
                      "type": "index"
                    }
                  },
                  {
                    "tag": "el-table-column",
                    "attributes": {
                      "label": "费用"
                    },
                    "children": [
                      {
                        "tag": "el-input",
                        "field": "row.fee_name",
                        "alt": "#{row.fee_name}",
                        "inline": true,
                        "vif": "#{currentFee === row}",
                        "attributes": {
                          "placeholder": "物业费/水电费"
                        },
                        "events": {
                          "change": "#{handleFeeNameCange}"
                        }
                      }
                    ]
                  },
                  {
                    "tag": "el-table-column",
                    "attributes": {
                      "width": 140
                    },
                    "children": {
                      "header": [
                        {
                          "tag": "el-button",
                          "text": "新增",
                          "attributes": {
                            "type": "text",
                            "icon": "el-icon-plus"
                          },
                          "events": {
                            "click": "#{handleFeeAdd}"
                          }
                        }
                      ],
                      "default": [
                        {
                          "tag": "el-button",
                          "text": "编辑",
                          "attributes": {
                            "type": "text",
                            "icon": "el-icon-edit"
                          },
                          "events": {
                            "click": {
                              "inline": true,
                              "params": "$index",
                              "callParams": "row",
                              "method": "#{handleFeeEdit}"
                            }
                          }
                        },
                        {
                          "tag": "el-button",
                          "text": "删除",
                          "attributes": {
                            "type": "text",
                            "icon": "el-icon-delete"
                          },
                          "events": {
                            "click": {
                              "inline": true,
                              "method": "#{handleFeeDelete}"
                            }
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          },
          {
            "tag": "el-form-item",
            "attributes": {},
            "children": [
              {
                "tag": "el-button",
                "text": "提交",
                "attributes": {},
                "events": {
                  "click": "#{save}"
                }
              },
              {
                "tag": "el-button",
                "text": "随机名称",
                "attributes": {},
                "events": {
                  "click": "#{handleNameRandom}"
                }
              }
            ]
          }
        ]
      }
    ],
    "methods": {
      "save": "function () {\n  console.log('save', JSON.stringify(this.formData))\n}",
      "handleFeeNameCange": "function() { console.log('handleFeeNameCange', ...arguments) }",
      "handleFeeAdd": "function () { this.formData.fees.push({ id: this.$utils.string.uuid(), fee_name: '物业费' }) }",
      "handleFeeEdit": "function ($events, scope) { this.currentFee = scope.row }",
      "handleFeeDelete": "function ($events, {$index}) { this.formData.fees.splice($index, 1) } ",
      "handleNameRandom": "function () { this.formData.name = Math.floor(Math.random() * 1000 + 1000) } "
    },
    "meta": {}
  }
}